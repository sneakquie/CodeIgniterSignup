(function(e,t){"use strict";function i(t){t=e.extend({},n,t);var r=e(this);for(var i=0,o=r.length;i<o;i++){s(r.eq(i),t)}return r}function s(t,n){if(!t.data("picker")){n=e.extend({},n,t.data("picker-options"));var r=t.closest("label"),i=r.length?r.eq(0):e("label[for="+t.attr("id")+"]"),s=t.attr("type"),a="picker-"+(s==="radio"?"radio":"checkbox"),h=t.attr("name"),p='<div class="picker-handle"><div class="picker-flag" /></div>';if(n.toggle){a+=" picker-toggle";p='<span class="picker-toggle-label on">'+n.labels.on+'</span><span class="picker-toggle-label off">'+n.labels.off+"</span>"+p}t.addClass("picker-element");i.wrap('<div class="picker '+a+" "+n.customClass+'" />').before(p).addClass("picker-label");var d=i.parents(".picker"),v=d.find(".picker-handle"),m=d.find(".picker-toggle-label");if(t.is(":checked")){d.addClass("checked")}if(t.is(":disabled")){d.addClass("disabled")}var g=e.extend({},n,{$picker:d,$input:t,$handle:v,$label:i,$labels:m,group:h,isRadio:s==="radio",isCheckbox:s==="checkbox"});g.$input.on("focus.picker",g,l).on("blur.picker",g,c).on("change.picker",g,u).on("click.picker",g,o).on("deselect.picker",g,f).data("picker",g);g.$picker.on("click.picker",g,o)}}function o(t){t.stopPropagation();var n=t.data;if(!e(t.target).is(n.$input)){t.preventDefault();n.$input.trigger("click")}}function u(e){var t=e.data;if(!t.$input.is(":disabled")){var n=t.$input.is(":checked");if(t.isCheckbox){if(n){a(e,true)}else{f(e,true)}}else{if(n){a(e)}}}}function a(t,n){var r=t.data;if(typeof r.group!=="undefined"&&r.isRadio){e('input[name="'+r.group+'"]').not(r.$input).trigger("deselect")}r.$picker.addClass("checked")}function f(e,t){var n=e.data;n.$picker.removeClass("checked")}function l(e){e.data.$picker.addClass("focus")}function c(e){e.data.$picker.removeClass("focus")}var n={customClass:"",toggle:false,labels:{on:"ON",off:"OFF"}};var r={defaults:function(t){n=e.extend(n,t||{});return e(this)},destroy:function(){return e(this).each(function(t,n){var r=e(n).data("picker");if(r){r.$picker.off(".picker");r.$handle.remove();r.$labels.remove();r.$input.off(".picker").removeClass("picker-element").data("picker",null);r.$label.removeClass("picker-label").unwrap()}})},disable:function(){return e(this).each(function(t,n){var r=e(n).data("picker");if(r){r.$input.prop("disabled",true);r.$picker.addClass("disabled")}})},enable:function(){return e(this).each(function(t,n){var r=e(n).data("picker");if(r){r.$input.prop("disabled",false);r.$picker.removeClass("disabled")}})},update:function(){return e(this).each(function(t,n){var r=e(n).data("picker");if(r&&!r.$input.is(":disabled")){if(r.$input.is(":checked")){a({data:r},true)}else{f({data:r},true)}}})}};e.fn.picker=function(e){if(r[e]){return r[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return i.apply(this,arguments)}return this};e.picker=function(e){if(e==="defaults"){r.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}})(jQuery)